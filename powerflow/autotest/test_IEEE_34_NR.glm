//34-node generated by script
//Mostly to test constant_current rotation (constant PF)
//Change of feature/1239
//Includes explicit Wye and Delta connections (to test that load designation too)

//#set pauseatexit=1
#set profiler=1

clock {
	timezone EST+5EDT;
	timestamp '2001-01-01 0:00:00';
}

module assert;
module powerflow {
	solver_method NR;
	line_capacitance true;
}

//include configurations
#include "../data_configurations_34_node.glm";

object voltdump {
	filename voltageout.csv;
	mode POLAR;
}

object currdump {
	filename currentout.csv;
	mode RECT;
}

//Pure nodes

object meter {
	name node_800;
	phases ABCN;
	nominal_voltage 14376.0217;
	bustype SWING;
	voltage_A 15094.822788+0.000000j;
	voltage_B -7547.411394-13072.500000j;
	voltage_C -7547.411394+13072.500000j;
}

object node {
	name node_802;
	phases ABCN;
	nominal_voltage 14376.0217;
}

object node {
	name node_808;
	phases ABCN;
	nominal_voltage 14376.0217;
}

object node {
	name node_812;
	phases ABCN;
	nominal_voltage 14376.0217;
}

object node {
	name node_814;
	phases ABCN;
	nominal_voltage 14376.0217;
}

object node {
	name node_816;
	phases ABCN;
	nominal_voltage 14376.0217;
}

object node {
	name node_818;
	phases AN;
	nominal_voltage 14376.0217;
}

object node {
	name node_832;
	phases ABCN;
	nominal_voltage 14376.0217;
}

object node {
	name node_842;
	phases ABCN;
	nominal_voltage 14376.0217;
}

object node {
	name node_850;
	phases ABCN;
	nominal_voltage 14376.0217;
}

object node {
	name node_852;
	phases ABCN;
	nominal_voltage 14376.0217;
}

object node {
	name node_854;
	phases ABCN;
	nominal_voltage 14376.0217;
}

object node {
	name node_862;
	phases ABCN;
	nominal_voltage 14376.0217;
}

object node {
	name node_888;
	phases ABCN;
	nominal_voltage 14376.0217;
}

object node {
	name node_8145;
	phases ABCN;
	nominal_voltage 14376.0217;
}

object node {
	name node_8525;
	phases ABCN;
	nominal_voltage 14376.0217;
}

//Pure spot loads

object load {
	name load_890;
	phases ABCD;
	constant_current_AB 40.241301+2.415407j;
	constant_current_BC -18.028846-36.057692j;
	constant_current_CA -22.212454+33.642285j;
	nominal_voltage 14376.0217;
	object complex_assert {
		target "voltage_A";
		value 2192.6825-199.16388j;
		within 1.0;
	};
	object complex_assert {
		target "voltage_B";
		value -1328.039-1776.5188j;
		within 1.0;
	};
	object complex_assert {
		target "voltage_C";
		value -895.78974+2013.8683j;
		within 1.5;	//Needs to be slightly bigger due to modelling differences
	};
}

//distributed loads intermediates (2/3 load at 1/4 line)

object load {
	name load_806_inter;
	phases ABCN;
	constant_power_B 20000.000000+10000.000000j;
	constant_power_C 16666.666667+9333.333333j;
	nominal_voltage 14376.0217;
}

object load {
	name load_810_inter;
	phases BN;
	constant_current_B -0.692273-0.457076j;
	nominal_voltage 14376.0217;
}

object load {
	name load_820_inter;
	phases AN;
	constant_impedance_A 7294.235294+3647.117647j;
	nominal_voltage 14376.0217;
}

object load {
	name load_822_inter;
	phases AN;
	constant_power_A 90000.000000+46666.666667j;
	nominal_voltage 14376.0217;
}

object load {
	name load_824_inter;
	phases ABCD;
	constant_current_B -0.053548-0.133869j;
	nominal_voltage 14376.0217;
}

object load {
	name load_826_inter;
	phases BN;
	constant_current_B -1.730683-1.142691j;
	nominal_voltage 14376.0217;
}

object load {
	name load_828_inter;
	phases ABCN;
	constant_power_C 2666.666667+1333.333333j;
	nominal_voltage 14376.0217;
}

object load {
	name load_830_inter;
	phases ABCN;
	constant_power_A 4666.666667+2000.000000j;
	nominal_voltage 14376.0217;
}

object load {
	name load_834_inter;
	phases ABCD;
	constant_power_A 2666.666667+1333.333333j;
	constant_power_B 10000.000000+5333.333333j;
	constant_power_C 8666.666667+4666.666667j;
	nominal_voltage 14376.0217;
}

object load {
	name load_836_inter;
	phases ABCD;
	constant_power_A 20000.000000+10000.000000j;
	constant_power_B 6666.666667+4000.000000j;
	constant_power_C 28000.000000+14666.666667j;
	nominal_voltage 14376.0217;
}

object load {
	name load_838_inter;
	phases BN;
	constant_power_B 18666.666667+9333.333333j;
	nominal_voltage 14376.0217;
}

object load {
	name load_840_inter;
	phases ABCD;
	constant_current_A 0.537844+0.032283j;
	constant_current_B -0.294511-0.589023j;
	nominal_voltage 14376.0217;
}

object load {
	name load_844_inter;
	phases ABCN;
	constant_power_A 6000.000000+3333.333333j;
	nominal_voltage 14376.0217;
}

object load {
	name load_846_inter;
	phases ABCN;
	constant_power_B 16666.666667+8000.000000j;
	constant_power_C 13333.333333+7333.333333j;
	nominal_voltage 14376.0217;
}

object load {
	name load_848_inter;
	phases ABCN;
	constant_power_B 15333.333333+7333.333333j;
	nominal_voltage 14376.0217;
}

object load {
	name load_856_inter;
	phases BN;
	constant_power_B 2666.666667+1333.333333j;
	nominal_voltage 14376.0217;
}

object load {
	name load_858_inter;
	phases ABCD;
	constant_impedance_A 112243.189655+48104.224138j;
	constant_impedance_B 372006.000000+186003.000000j;
	constant_impedance_C 124002.000000+62001.000000j;
	nominal_voltage 14376.0217;
}

object load {
	name load_860_inter;
	phases ABCD;
	constant_impedance_A 46500.750000+23250.375000j;
	constant_impedance_B 37200.600000+18600.300000j;
	constant_impedance_C 6763.745455+3381.872727j;
	nominal_voltage 14376.0217;
}

object load {
	name load_864_inter;
	phases AN;
	constant_power_A 1333.333333+666.666667j;
	nominal_voltage 14376.0217;
}

//pure distributed loads (1/3 load at end of line)

object load {
	name load_806;
	phases ABCN;
	constant_power_B 10000.000000+5000.000000j;
	constant_power_C 8333.333333+4666.666667j;
	nominal_voltage 14376.0217;
}

object load {
	name load_810;
	phases BN;
	constant_current_B -0.346137-0.228538j;
	nominal_voltage 14376.0217;
}

object load {
	name load_820;
	phases AN;
	constant_impedance_A 14588.470588+7294.235294j;
	nominal_voltage 14376.0217;
}

object load {
	name load_822;
	phases AN;
	constant_power_A 45000.000000+23333.333333j;
	nominal_voltage 14376.0217;
}

object load {
	name load_824;
	phases ABCD;
	constant_current_B -0.026774-0.066934j;
	nominal_voltage 14376.0217;
}

object load {
	name load_826;
	phases BN;
	constant_current_B -0.865342-0.571345j;
	nominal_voltage 14376.0217;
}

object load {
	name load_828;
	phases ABCN;
	constant_power_C 1333.333333+666.666667j;
	nominal_voltage 14376.0217;
}

object load {
	name load_834;
	phases ABCD;
	constant_power_A 1333.333333+666.666667j;
	constant_power_B 5000.000000+2666.666667j;
	constant_power_C 4333.333333+2333.333333j;
	nominal_voltage 14376.0217;
}

object load {
	name load_836;
	phases ABCD;
	constant_power_A 10000.000000+5000.000000j;
	constant_power_B 3333.333333+2000.000000j;
	constant_power_C 14000.000000+7333.333333j;
	nominal_voltage 14376.0217;
}

object load {
	name load_838;
	phases BN;
	constant_power_B 9333.333333+4666.666667j;
	nominal_voltage 14376.0217;
}

object load {
	name load_846;
	phases ABCN;
	constant_power_B 8333.333333+4000.000000j;
	constant_power_C 6666.666667+3666.666667j;
	nominal_voltage 14376.0217;
}

object load {
	name load_856;
	phases BN;
	constant_power_B 1333.333333+666.666667j;
	nominal_voltage 14376.0217;
}

object load {
	name load_858;
	phases ABCD;
	constant_impedance_A 224486.379310+96208.448276j;
	constant_impedance_B 744012.000000+372006.000000j;
	constant_impedance_C 248004.000000+124002.000000j;
	nominal_voltage 14376.0217;
}

object load {
	name load_864;
	phases AN;
	constant_power_A 666.666667+333.333333j;
	nominal_voltage 14376.0217;
}

//combination loads (1/3 dist load and spot load)

object load {
	name load_830;
	phases ABCD;
	constant_impedance_A 49600.800000+24800.400000j;
	constant_impedance_B 49600.800000+24800.400000j;
	constant_impedance_C 21379.655172+8551.862069j;
	nominal_voltage 14376.0217;
}

object load {
	name load_830_dist;
	parent load_830;
	phases ABCN;
	constant_power_A 2333.333333+1000.000000j;
	nominal_voltage 14376.0217;
}

object load {
	name load_840;
	phases ABCN;
	constant_current_AN 0.626042-0.486922j;
	constant_current_BN -0.734708-0.298708j;
	constant_current_CN 0.108666+0.785630j;
	nominal_voltage 14376.0217;
}

object load {
	name load_840_dist;
	parent load_840;
	phases ABCD;
	constant_current_A 0.268922+0.016142j;
	constant_current_B -0.147256-0.294511j;
	nominal_voltage 14376.0217;
}

object load {
	name load_844;
	phases ABCN;
	constant_impedance_A 953.861538+741.892308j;
	constant_impedance_B 953.861538+741.892308j;
	constant_impedance_C 953.861538+741.892308j;
	nominal_voltage 14376.0217;
}

object load {
	name load_844_dist;
	parent load_844;
	phases ABCN;
	constant_power_A 3000.000000+1666.666667j;
	nominal_voltage 14376.0217;
}

object load {
	name load_848;
	phases ABCD;
	constant_power_A 20000.000000+16000.000000j;
	constant_power_B 20000.000000+16000.000000j;
	constant_power_C 20000.000000+16000.000000j;
	nominal_voltage 14376.0217;
}

object load {
	name load_848_dist;
	parent load_848;
	phases ABCN;
	constant_power_B 7666.666667+3666.666667j;
	nominal_voltage 14376.0217;
}

object load {
	name load_860;
	phases ABCN;
	constant_power_A 20000.000000+16000.000000j;
	constant_power_B 20000.000000+16000.000000j;
	constant_power_C 20000.000000+16000.000000j;
	nominal_voltage 14376.0217;
}

object load {
	name load_860_dist;
	parent load_860;
	phases ABCD;
	constant_impedance_A 93001.500000+46500.750000j;
	constant_impedance_B 74401.200000+37200.600000j;
	constant_impedance_C 13527.490909+6763.745455j;
	nominal_voltage 14376.0217;
}

//Pure lines (no distributed loads)

object overhead_line {
	name line800to802;
	phases ABCN;
	from node_800;
	to node_802;
	length 2580.00;
	configuration lc300;
}

object overhead_line {
	name line806to808;
	phases ABCN;
	from load_806;
	to node_808;
	length 32230.00;
	configuration lc300;
}

object overhead_line {
	name line808to812;
	phases ABCN;
	from node_808;
	to node_812;
	length 37500.00;
	configuration lc300;
}

object overhead_line {
	name line812to814;
	phases ABCN;
	from node_812;
	to node_814;
	length 29730.00;
	configuration lc300;
}

object overhead_line {
	name line8145to850;
	phases ABCN;
	from node_8145;
	to node_850;
	length 10.00;
	configuration lc301;
}

object overhead_line {
	name line816to818;
	phases AN;
	from node_816;
	to node_818;
	length 1710.00;
	configuration lc302;
}

object overhead_line {
	name line830to854;
	phases ABCN;
	from load_830;
	to node_854;
	length 520.00;
	configuration lc301;
}

object overhead_line {
	name line834to842;
	phases ABCN;
	from load_834;
	to node_842;
	length 280.00;
	configuration lc301;
}

object overhead_line {
	name line836to862;
	phases ABCN;
	from load_836;
	to node_862;
	length 280.00;
	configuration lc301;
}

object overhead_line {
	name line850to816;
	phases ABCN;
	from node_850;
	to node_816;
	length 310.00;
	configuration lc301;
}

object overhead_line {
	name line8525to832;
	phases ABCN;
	from node_8525;
	to node_832;
	length 10.00;
	configuration lc301;
}

object overhead_line {
	name line854to852;
	phases ABCN;
	from node_854;
	to node_852;
	length 36830.00;
	configuration lc301;
}

object overhead_line {
	name line888to890;
	phases ABCN;
	from node_888;
	to load_890;
	length 10560.00;
	configuration lc300;
}

//Lines with distributed loads

object overhead_line {
	name line802to806_quart;
	phases ABCN;
	from node_802;
	to load_806_inter;
	length 432.50;
	configuration lc300;
}

object overhead_line {
	name line802to806_3quart;
	phases ABCN;
	from load_806_inter;
	to load_806;
	length 1297.50;
	configuration lc300;
}

object overhead_line {
	name line808to810_quart;
	phases BN;
	from node_808;
	to load_810_inter;
	length 1451.00;
	configuration lc303;
}

object overhead_line {
	name line808to810_3quart;
	phases BN;
	from load_810_inter;
	to load_810;
	length 4353.00;
	configuration lc303;
}

object overhead_line {
	name line816to824_quart;
	phases ABCN;
	from node_816;
	to load_824_inter;
	length 2552.50;
	configuration lc301;
}

object overhead_line {
	name line816to824_3quart;
	phases ABCN;
	from load_824_inter;
	to load_824;
	length 7657.50;
	configuration lc301;
}

object overhead_line {
	name line818to820_quart;
	phases AN;
	from node_818;
	to load_820_inter;
	length 12037.50;
	configuration lc302;
}

object overhead_line {
	name line818to820_3quart;
	phases AN;
	from load_820_inter;
	to load_820;
	length 36112.50;
	configuration lc302;
}

object overhead_line {
	name line820to822_quart;
	phases AN;
	from load_820;
	to load_822_inter;
	length 3435.00;
	configuration lc302;
}

object overhead_line {
	name line820to822_3quart;
	phases AN;
	from load_822_inter;
	to load_822;
	length 10305.00;
	configuration lc302;
}

object overhead_line {
	name line824to826_quart;
	phases BN;
	from load_824;
	to load_826_inter;
	length 757.50;
	configuration lc303;
}

object overhead_line {
	name line824to826_3quart;
	phases BN;
	from load_826_inter;
	to load_826;
	length 2272.50;
	configuration lc303;
}

object overhead_line {
	name line824to828_quart;
	phases ABCN;
	from load_824;
	to load_828_inter;
	length 210.00;
	configuration lc301;
}

object overhead_line {
	name line824to828_3quart;
	phases ABCN;
	from load_828_inter;
	to load_828;
	length 630.00;
	configuration lc301;
}

object overhead_line {
	name line828to830_quart;
	phases ABCN;
	from load_828;
	to load_830_inter;
	length 5110.00;
	configuration lc301;
}

object overhead_line {
	name line828to830_3quart;
	phases ABCN;
	from load_830_inter;
	to load_830;
	length 15330.00;
	configuration lc301;
}

object overhead_line {
	name line832to858_quart;
	phases ABCN;
	from node_832;
	to load_858_inter;
	length 1225.00;
	configuration lc301;
}

object overhead_line {
	name line832to858_3quart;
	phases ABCN;
	from load_858_inter;
	to load_858;
	length 3675.00;
	configuration lc301;
}

object overhead_line {
	name line834to860_quart;
	phases ABCN;
	from load_834;
	to load_860_inter;
	length 505.00;
	configuration lc301;
}

object overhead_line {
	name line834to860_3quart;
	phases ABCN;
	from load_860_inter;
	to load_860;
	length 1515.00;
	configuration lc301;
}

object overhead_line {
	name line836to840_quart;
	phases ABCN;
	from load_836;
	to load_840_inter;
	length 215.00;
	configuration lc301;
}

object overhead_line {
	name line836to840_3quart;
	phases ABCN;
	from load_840_inter;
	to load_840;
	length 645.00;
	configuration lc301;
}

object overhead_line {
	name line842to844_quart;
	phases ABCN;
	from node_842;
	to load_844_inter;
	length 337.50;
	configuration lc301;
}

object overhead_line {
	name line842to844_3quart;
	phases ABCN;
	from load_844_inter;
	to load_844;
	length 1012.50;
	configuration lc301;
}

object overhead_line {
	name line844to846_quart;
	phases ABCN;
	from load_844;
	to load_846_inter;
	length 910.00;
	configuration lc301;
}

object overhead_line {
	name line844to846_3quart;
	phases ABCN;
	from load_846_inter;
	to load_846;
	length 2730.00;
	configuration lc301;
}

object overhead_line {
	name line846to848_quart;
	phases ABCN;
	from load_846;
	to load_848_inter;
	length 132.50;
	configuration lc301;
}

object overhead_line {
	name line846to848_3quart;
	phases ABCN;
	from load_848_inter;
	to load_848;
	length 397.50;
	configuration lc301;
}

object overhead_line {
	name line854to856_quart;
	phases BN;
	from node_854;
	to load_856_inter;
	length 5832.50;
	configuration lc303;
}

object overhead_line {
	name line854to856_3quart;
	phases BN;
	from load_856_inter;
	to load_856;
	length 17497.50;
	configuration lc303;
}

object overhead_line {
	name line858to864_quart;
	phases AN;
	from load_858;
	to load_864_inter;
	length 405.00;
	configuration lc302;
}

object overhead_line {
	name line858to864_3quart;
	phases AN;
	from load_864_inter;
	to load_864;
	length 1215.00;
	configuration lc302;
}

object overhead_line {
	name line858to834_quart;
	phases ABCN;
	from load_858;
	to load_834_inter;
	length 1457.50;
	configuration lc301;
}

object overhead_line {
	name line858to834_3quart;
	phases ABCN;
	from load_834_inter;
	to load_834;
	length 4372.50;
	configuration lc301;
}

object overhead_line {
	name line860to836_quart;
	phases ABCN;
	from load_860;
	to load_836_inter;
	length 670.00;
	configuration lc301;
}

object overhead_line {
	name line860to836_3quart;
	phases ABCN;
	from load_836_inter;
	to load_836;
	length 2010.00;
	configuration lc301;
}

object overhead_line {
	name line862to838_quart;
	phases BN;
	from node_862;
	to load_838_inter;
	length 1215.00;
	configuration lc304;
}

object overhead_line {
	name line862to838_3quart;
	phases BN;
	from load_838_inter;
	to load_838;
	length 3645.00;
	configuration lc304;
}

//Transformers

object transformer {
	name trans832to888;
	phases ABCN;
	from node_832;
	to node_888;
	configuration tc500;
}

//Regulators

object regulator {
	name reg814to8145;
	phases ABCN;
	from node_814;
	to node_8145;
	configuration rc501;
}

object regulator {
	name reg852to8525;
	phases ABCN;
	from node_852;
	to node_8525;
	configuration rc502;
}

//Switches

//Capacitors

object capacitor {
	name cap_844;
	parent load_844;
	phases ABC;
	phases_connected ABC;
	nominal_voltage 14376.0217;
	control MANUAL;
	capacitor_A 100000.0000;
	capacitor_B 100000.0000;
	capacitor_C 100000.0000;
	switchA CLOSED;
	switchB CLOSED;
	switchC CLOSED;
}

object capacitor {
	name cap_848;
	parent load_848;
	phases ABC;
	phases_connected ABC;
	nominal_voltage 14376.0217;
	control MANUAL;
	capacitor_A 150000.0000;
	capacitor_B 150000.0000;
	capacitor_C 150000.0000;
	switchA CLOSED;
	switchB CLOSED;
	switchC CLOSED;
}

