#define LOSS=0.05
#define NOISE=0.05
module transactive {
	frequency_bounds HARD;
}
module tape;
#set suppress_repeat_messages=FALSE

clock {
	timezone PST+8PDT;
	starttime '2015-01-01 0:00:00 PST';
	stoptime '2015-01-08 0:00:00 PDT';
}

// add load noise variable to loads
class load {
	randomvar noise;
};

object interconnection {
	object recorder {
		property inertia,capacity,supply,demand,frequency;
		interval -1;
		file ${modelname/.glm/}_interconnection.csv;
	};
	object controlarea {
		name area1;
		schedule 691;
		bias 1000;
		object generator {
			inertia 10000;
			capacity 1000;
			actual 691;
			control_gain 1;
			max_ramp 10 MW/min;
			min_ramp -10 MW/min;
		};
	};
	object controlarea {
		name area2;
		schedule -500;
		object load {
			inertia 1000;
			capacity 1000;
			noise "type:normal(0,10); refresh:60; min:-50; max:50";
			actual this.noise*${NOISE} + 500;
		};
	};
	object controlarea {
		name area3;
		schedule -100;
		object load {
			inertia 1000;
			capacity 1000;
			noise "type:normal(0,2); refresh:60; min:-10; max:10";
			actual this.noise*${NOISE} + 100;
		};
	};
	object controlarea {
		name area4;
		schedule -50;
		object load {
			inertia 500;
			capacity 500;
			noise "type:normal(0,1); refresh:60; min:-5; max:5";
			actual this.noise*${NOISE} + 50;
		};
	};
	object intertie {
		from area1;
		to area2;
		loss ${LOSS};
	};
	object intertie {
		from area2;
		to area3;
		loss ${LOSS};
		capacity 10000;
	};
	object intertie {
		from area1;
		to area3;
		loss ${LOSS};
		capacity 10000;
	};
	object intertie {
		from area2;
		to area4;
		loss ${LOSS};
		capacity 10000;
	};
	object intertie {
		from area3;
		to area4;
		loss ${LOSS};
		capacity 10000;
	};
}
